{"file":"/tmp/src/api/index.ts","mappings":";;;;;AAAA,iEAAyC;AAEzC,gDAAwB;AAExB,kBAAe,GAAG,EAAE,CAAC,KAAK,EAAE,QAAyB,EAAE,EAAE;IACvD,uBAAuB;IACvB,QAAQ,CAAC,kBAAkB,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE;QAC7C,MAAM,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,OAAO,CAAC;QAEhC,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,MAAM,EAAE,EAAE,EAAE,4CAA4C,CAAC,CAAC;QAE3F,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC;IACzB,CAAC,CAAC,CAAC;IAEH,eAAe;IACf,MAAM,QAAQ,CAAC,QAAQ,CAAC,kBAAQ,EAAE;QAChC,GAAG,EAAE,cAAI,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,EAAE,SAAS,CAAC;QAC1C,aAAa,EAAE,kBAAkB;KAClC,CAAC,CAAC;IAEH,cAAc;IACd,QAAQ,CAAC,QAAQ,CAAC,kBAAQ,EAAE;QAC1B,GAAG,EAAE,cAAI,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC;QACnC,aAAa,EAAE,kBAAkB;KAClC,CAAC,CAAC;AACL,CAAC,CAAC","names":[],"sources":["/tmp/src/api/index.ts"],"sourcesContent":["import AutoLoad from '@fastify/autoload';\nimport { FastifyInstance } from 'fastify';\nimport path from 'path';\n\nexport default () => async (instance: FastifyInstance) => {\n  // Register 404 handler\n  instance.setNotFoundHandler((request, reply) => {\n    const { method, url } = request;\n\n    instance.log.error({ err: { url, method } }, 'Request not recognized or route not found.');\n\n    reply.code(404).send();\n  });\n\n  // Load plugins\n  await instance.register(AutoLoad, {\n    dir: path.join(__dirname, '..', 'plugins'),\n    ignorePattern: /\\.test?\\.(ts|js)/,\n  });\n\n  // Load routes\n  instance.register(AutoLoad, {\n    dir: path.join(__dirname, 'routes'),\n    ignorePattern: /\\.test?\\.(ts|js)/,\n  });\n};\n"],"version":3}